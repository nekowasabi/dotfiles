# ==============================================================================
# tmux WSL 環境固有設定
# ==============================================================================

# 共通設定を読み込み
source-file ~/.config/tmux/common.conf

# ------------------------------------------------------------------------------
# WSL 固有: シェル設定
# ------------------------------------------------------------------------------
set-option -g default-shell /home/linuxbrew/.linuxbrew/bin/zsh

# ------------------------------------------------------------------------------
# WSL 固有: 履歴設定（大容量）
# ------------------------------------------------------------------------------
set-option -g history-limit 50000

# ------------------------------------------------------------------------------
# WSL 固有: ペインボーダー設定（背景なし・シンプル）
# ------------------------------------------------------------------------------
set -g pane-border-style fg=colour238
set -g pane-active-border-style fg=colour208

# ------------------------------------------------------------------------------
# WSL 固有: ステータスバー位置
# ------------------------------------------------------------------------------
set-option -g status-position bottom

# status-right（秒まで表示でpane-border更新をトリガー）
set -g status-right "#[fg=colour255,bg=colour241] %Y%b-%d %l:%M:%S"

# ------------------------------------------------------------------------------
# WSL 固有: クリップボード連携
# ------------------------------------------------------------------------------
bind-key -T copy-mode-vi MouseDragEnd1Pane send-keys -X copy-pipe-and-cancel "pbcopy"
bind-key -T copy-mode-vi Enter send-keys -X copy-pipe-and-cancel "pbcopy"

# ------------------------------------------------------------------------------
# WSL 固有: Alt + 矢印キーでペイン移動
# ------------------------------------------------------------------------------
bind-key -n M-Left select-pane -L
bind-key -n M-Right select-pane -R
bind-key -n M-Up select-pane -U
bind-key -n M-Down select-pane -D

# ------------------------------------------------------------------------------
# TPM (Tmux Plugin Manager)
# ------------------------------------------------------------------------------
set -g @plugin 'tmux-plugins/tpm'

# Initialize TMUX plugin manager (keep this line at the very bottom of tmux.conf)
run '~/.tmux/plugins/tpm/tpm'

# ローカル開発プラグイン
run-shell '~/repos/tmux-text-object/text_object.tmux'
run-shell '~/repos/tmux-statusline-claudecode-status/claudecode_status.tmux'
